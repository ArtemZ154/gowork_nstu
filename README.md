# NSTU Job Bot (Бот для поиска подработки НГТУ)

[![Python Version](https://img.shields.io/badge/Python-3.12+-blue.svg)](https://www.python.org/downloads/)
[![Aiogram Version](https://img.shields.io/badge/Aiogram-3.7+-cyan.svg)](https://github.com/aiogram/aiogram)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT) Телеграм-бот, предназначенный для упрощения поиска краткосрочной подработки для студентов Новосибирского Государственного Технического Университета (НГТУ) и поиска исполнителей для местных работодателей.

## Описание

Проект представляет собой платформу в виде Telegram-бота, соединяющую три типа пользователей:
* **Студенты НГТУ:** Могут находить подработку, которая не пересекается с их учебным расписанием (за исключением лабораторных работ). Требуется верификация по студенческому билету.
* **Работодатели (ООО/ИП):** Могут публиковать вакансии на краткосрочные задачи (до 3 суток на поиск), просматривать отклики студентов и выбирать исполнителей. Требуется верификация по ИНН и паспорту директора/владельца. Физические лица не могут быть работодателями.
* **Администраторы:** Управляют системой, верифицируют пользователей, обрабатывают жалобы, управляют вакансиями и пользователями.

## Основные возможности

### Для Студентов:
* Регистрация с указанием группы НГТУ.
* Возможность пройти верификацию (отправка фото студенческого билета).
* Просмотр доступных вакансий, отфильтрованных с учетом расписания занятий.
* Отклик на понравившуюся вакансию с указанием желаемой оплаты.
* Получение уведомлений об одобрении заявки с контактами работодателя.
* Просмотр и удаление своих активных откликов.

### Для Работодателей:
* Регистрация (только для ООО/ИП) с указанием ИНН и названия организации.
* Возможность пройти верификацию (отправка фото паспорта директора/владельца).
* Публикация вакансий (тип, описание, оплата, срок поиска до 3 суток).
* Получение списка откликнувшихся студентов (дважды: в середине и конце срока).
* Выбор подходящего кандидата и подтверждение его найма.
* Самостоятельное закрытие вакансии.
* Просмотр и удаление своих активных вакансий.

### Для Администраторов:
* Полный доступ ко всем функциям системы.
* Верификация (одобрение/отклонение) студентов и работодателей.
* Блокировка и разблокировка пользователей.
* Создание и удаление вакансий.
* Просмотр и обработка жалоб от пользователей.

## Технологический стек

* **Язык:** Python 3.12+
* **Фреймворк для бота:** Aiogram 3.7+
* **База данных:** [Укажите вашу СУБД, например: PostgreSQL 14+]
* **ORM/Драйвер БД:** [Укажите ваш ORM/драйвер, например: SQLAlchemy 2.0+ (async) / asyncpg или Tortoise ORM]
* **Конфигурация:** Pydantic, python-dotenv

## Структура проекта

Проект использует модульную структуру для удобства поддержки и разработки:

nstujob_bot/
├── .env             # Переменные окружения (токен, БД и т.д.) - НЕ КОММИТИТЬ!
├── .gitignore       # Исключения для Git
├── requirements.txt # Зависимости Python
├── bot.py           # Точка входа для запуска бота
├── app/             # Основной код приложения
│   ├── config/      # Конфигурация
│   ├── database/    # Работа с БД (модели, CRUD)
│   ├── handlers/    # Обработчики сообщений и колбэков (разделены по ролям)
│   ├── keyboards/   # Клавиатуры бота
│   ├── middlewares/ # Middleware (аутентификация, проверка доступа)
│   ├── services/    # Бизнес-логика, вспомогательные функции
│   ├── states/      # Состояния FSM
│   └── lexicon/     # Тексты бота (опционально)
└── scripts/         # Вспомогательные скрипты (миграции и т.п.)

## Установка и запуск

1.  **Клонируйте репозиторий:**
    ```bash
    git clone <URL вашего репозитория>
    cd nstujob_bot
    ```

2.  **Создайте и активируйте виртуальное окружение:**
    ```bash
    python -m venv venv
    # Linux / macOS:
    source venv/bin/activate
    # Windows:
    .\venv\Scripts\activate
    ```

3.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Настройте переменные окружения:**
    * Создайте файл `.env` в корневой папке проекта.
    * Скопируйте содержимое из `.env.example` (если он есть) или добавьте необходимые переменные вручную (см. секцию "Конфигурация").

5.  **Настройте базу данных:**
    * Убедитесь, что СУБД запущена и доступна.
    * Создайте базу данных для проекта.
    * [При необходимости выполните миграции БД, например: `alembic upgrade head` или `aerich upgrade`]

6.  **Запустите бота:**
    ```bash
    python bot.py
    ```

## Конфигурация (`.env`)

Создайте файл `.env` в корне проекта и определите следующие переменные:

```ini
# --- Bot Settings ---
BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11 # Укажите токен вашего бота
ADMIN_IDS=123456789,987654321                     # ID администраторов через запятую

# --- Database Settings ---
DB_USER=your_db_user
DB_PASS=your_db_password
DB_HOST=localhost
DB_PORT=5432 # или другой порт вашей БД
DB_NAME=nstujob_db

# --- Other Settings (if any) ---
# Например, путь для хранения файлов верификации, если они хранятся локально
# VERIFICATION_FILES_PATH=/path/to/verification/files
